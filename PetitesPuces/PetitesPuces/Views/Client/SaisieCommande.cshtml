@using PetitesPuces.Models
@model List<PPArticlesEnPanier>
@{
    Layout = null;
}
<!DOCTYPE html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="~/Content/css/styleGeneral.css" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
<script>
    $(document).ready(function () {
        $("#btnContinueMagasiner").click(function () {
            window.location.href = "/Client/Catalogue"
        });

        // Bouton poursuivre du première onglet
        $("#btnPoursuivre").click(function () {
            $("#btnTransactionTab").attr("disabled", false);
            $("#divCommande").attr("hidden", true);
            $("#divTransaction").attr("hidden", false);
            $("#divFacturation").attr("hidden", true);
        });
        // Bouton poursuivre du première onglet
        $("#btnConfirmer").click(function () {
            $("#btnFacturationTab").attr("disabled", false);
            $("#divCommande").attr("hidden", true);
            $("#divTransaction").attr("hidden", true);
            $("#divFacturation").attr("hidden", false);
        });
        // Bouton première onglet
        $("#btnCommandeTab").click(function () {
            $("#divCommande").attr("hidden", false);
            $("#divTransaction").attr("hidden", true);
            $("#divFacturation").attr("hidden", true);
        });
        // Bouton deuxième onglet
        $("#btnTransactionTab").click(function () {
            $("#divCommande").attr("hidden", true);
            $("#divTransaction").attr("hidden", false);
            $("#divFacturation").attr("hidden", true);
        });
        // Bouton troisième onglet
        $("#btnFacturationTab").click(function () {
            setTimeout(function () {
                $("#btnTransactionTab").attr("disabled", true);
                $("#btnFacturationTab").attr("disabled", true);
                $("#divCommande").attr("hidden", false);
                $("#divTransaction").attr("hidden", true);
                $("#divFacturation").attr("hidden", true);
            }, 2000)
        });
    });

</script>
<style>
    button:disabled {
        background-color: #dddddd;
    }
    /* Style the tab */
    .tab {
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
    }

        /* Style the buttons that are used to open the tab content */
        .tab button {
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
        }

            /* Change background color of buttons on hover */
            .tab button:hover {
                background-color: #ddd;
            }

            /* Create an active/current tablink class */
            .tab button.active {
                background-color: #ccc;
            }

    /* Style the tab content */
    .tabcontent {
        display: none;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-top: none;
    }
</style>
<html>
<head>
    <title>SaisieCommande</title>
</head>
<body>
    <!-- Barre de navigation -->
    <div id="navigation">
        @RenderPage("~/Views/Client/index.cshtml")
    </div>

    <!-- Commande détaillée -->
    <div class="card sEspaceBarNavigation" id="accordion">
        <div class="card-header" id="heading_commande">

            <div class="float-center">
                <h5 class="mb-0">
                    <button id="btnCommande" class="btn btn-link" data-toggle="collapse" data-target="#collapse_zoneCommande" aria-expanded="true" aria-controls="#collapse_zoneCommande">
                        Commande
                    </button>
                </h5>
            </div>
        </div>

        <div id="collapse_zoneCommande" class="collapse show" aria-labelledby="btnCommande" data-parent="#accordion">
            @for (int x = 0; x < Model.Count; x++)
            {
                @Html.HiddenFor(lst => lst[x].DateCreation)
                @Html.HiddenFor(lst => lst[x].NoClient)
                @Html.HiddenFor(lst => lst[x].NoPanier)
                @Html.HiddenFor(lst => lst[x].NoProduit)
                @Html.HiddenFor(lst => lst[x].NoVendeur)
                @Html.HiddenFor(lst => lst[x].PPClients.NoClient)
                @Html.HiddenFor(lst => lst[x].PPVendeurs.NoVendeur)
                @Html.HiddenFor(lst => lst[x].NbItems)
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-2 text-center">
                        <img class="img-responsive" src="~/Content/images/@Model[x].PPProduits.Photo" alt="prewiew" width="120" height="80">
                    </div>
                    <div class="col-12 text-sm-center col-sm-12 text-md-left col-md-6">
                        <h4 class="product-name"><strong>@Model[x].PPProduits.Nom</strong></h4>
                        <h4>
                            <small>@Model[x].PPProduits.Description</small>
                        </h4>
                    </div>
                    <div class="col-12 col-sm-12 text-sm-center col-md-4 text-md-right row">
                        <div class="col-3 col-sm-3 col-md-6 text-md-right" style="padding-top: 5px">
                            <h6><strong>@Model[x].PPProduits.PrixDemande $ <span class="text-muted">x</span></strong></h6>

                        </div>
                        <div class="col-2 col-sm-2 col-md-2">
                            <div class="quantity">
                                <!--<input type="button" value="+" class="plus" onclick="incrementerPanier('@Model[x].NoPanier')">-->
                                <!--<input type="button" value="-" class="minus" onclick="decrementerPanier('@Model[x].NoPanier')">-->
                                <input id="@Model[x].NoPanier" type="number" min="1" max="99" step="1" class="qty" value="@Model[x].NbItems" onchange="updateCart(@Model[x].NoPanier)" onkeyup="">
                                @*Html.TextBoxFor(lst => lst[x].NbItems, new { @type = "number", @min = "0", @max = "99", @step = "1", @class = "qty" })*@
                            </div>
                        </div>

                        <div class="col-4 col-sm-4 col-md-4 text-right">
                            <!--h6>&nbsp;<strong>dblPrixProduitCourant.ToString("0.00")$</strong></!--h6>-->
                            <button type="button" class="btn btn-outline-danger btn-xs" id="btnSupprimmer_@Model[x].NoPanier" onclick="supprimerProduit(@Model[x].NoPanier)">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                                @*Html.ActionLink("Supprimer", "SupprimerProduit", "Client", new { id = Model[x].NoPanier}, new { })*@
                            </button>
                        </div>
                    </div>
                </div>
            }
            <!-- Loop d'article -->
            <p> Text</p>
        </div>
    </div>
    <div class="tab" style="padding-left:10px;padding-right:10px">
        <button id="btnCommandeTab" class="tablinks "><h4>Commande</h4></button>
        <button id="btnTransactionTab" class="tablinks " disabled><h4>Transaction</h4></button>
        <button id="btnFacturationTab" class="tablinks " disabled><h4>Obtenir une facture</h4></button>
    </div>
    <!-- Premier Onglet -->
    <div id="divCommande" class="" style="padding-left:10px;padding-right:10px">
        <div style="width:100%">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <div class="panel-title">
                        <div class="row">
                            <div class="col-9">
                                <h5><span class="glyphicon glyphicon-shopping-cart"></span> Panier</h5>
                            </div>
                            <div class="col-3">
                                <button id="btnContinueMagasiner" type="button" class="btn btn-primary btn-sm btn-block">
                                    <h4><span class="glyphicon glyphicon-share-alt"></span> Continuer à magasiner</h4>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-2">
                            <img class="img-responsive" src="http://placehold.it/100x70">
                        </div>
                        <div class="col-4">
                            <h4 class="product-name"><strong><a href="">Clou 15CMx0.1CM</a></strong></h4><h4><small>Clou de 15CM</small></h4>
                        </div>
                        <div class="col-6">
                            <div class="col-6 text-right">
                                <h4><strong>0.05 $<span class="text-muted">x</span></strong></h4>
                            </div>
                            <div class="col-4">
                                <input type="number" step="1" class="form-control input-sm" value="100">
                            </div>
                            <div class="col-2">
                                <button type="button" class="btn btn-link btn-xs">
                                    <span class="glyphicon glyphicon-trash"> </span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-2">
                            <img class="img-responsive" src="http://placehold.it/100x70">
                        </div>
                        <div class="col-4">
                            <h4 class="product-name"><strong><a href="">Marteau</a></strong></h4><h4><small>Marteau avec tête en acier</small></h4>
                        </div>
                        <div class="col-6">
                            <div class="col-6 text-right">
                                <h4><strong>10.99 $ <span class="text-muted">x</span></strong></h4>
                            </div>
                            <div class="col-4">
                                <input type="number" step="1" class="form-control input-sm" value="1">
                            </div>
                            <div class="col-2">
                                <button type="button" class="btn btn-link btn-xs">
                                    <span class="glyphicon glyphicon-trash"> </span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="text-center">
                            <div class="col-5">
                                <h4>Ajouté des objets?</h4>
                            </div>
                            <div class="col-7">
                                <button type="button" class="btn btn-primary btn-sm btn-block">
                                    <h4>Mettre à jour le panier</h4>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <div class="row text-right">
                        <div class="col-10">
                        </div>
                        <div class="col-2">
                            <h4>
                                <select>
                                    <option value="0" selected>Poste régulière</option>
                                    <option value="1">Poste prioritaire</option>
                                    <option value="2">Compagnie de livraison</option>
                                </select>
                            </h4>
                        </div>
                    </div>
                    <div class="row text-center">
                        <div class="col-8">
                            <h4 class="text-right">Frais de livraison</h4>
                            <h4 class="text-right">Sous-total</h4>
                            <h4 class="text-right">TPS (5%)</h4>
                            <h4 class="text-right">TVQ (9.975%)</h4>
                            <h4 class="text-right">Total</h4>
                        </div>
                        <div class="col-2">
                            <h4 class="text-right"><strong>5.00 $</strong></h4>
                            <h4 class="text-right"><strong>20.99 $</strong></h4>
                            <h4 class="text-right"><strong>1.05 $</strong></h4>
                            <h4 class="text-right"><strong>2.10 $</strong></h4>
                            <h4 class="text-right"><strong>24.14 $</strong></h4>
                        </div>
                        <div class="col-2">
                            <button id="btnPoursuivre" type="button" class="btn btn-success btn-block">
                                <h4> Poursuivre</h4>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Second Onglet -->
    <div id="divTransaction" hidden style="width:100%">
        <div class="panel panel-info">
            <div class="panel-heading" style="padding-left:20px;padding-right:20px">
                <h3><u>Information personnelle</u></h3>
                <div class="row">
                    <label class="col-2" for="email">Courriel électronique</label>
                    <div class="col-offset-1"></div>
                    <label class="col-2" for="lastName">Nom</label>
                    <div class="col-offset-1"></div>
                    <label class="col-1" style="text-align:left" for="firstName">Prénom</label>
                    <div class="col-offset-1"></div>
                    <label class="col-1" for="tel1">Téléphone primaire</label>
                    <div class="col-offset-1"></div>
                    <label class="col-1" for="tel2">Téléphone secondaire</label>
                </div>
                <div class="row">

                    <input class="col-2" id="email" style="margin-left:15px" type="text" />
                    <div class="col-offset-1"></div>
                    <input class="col-2" id="lastName" type="text" />
                    <div class="col-offset-1"></div>
                    <input class="col-1" id="firstName" type="text" />
                    <div class="col-offset-1"></div>
                    <input class="col-1" id="tel1" type="text" />
                    <div class="col-offset-1"></div>
                    <input class="col-1" id="tel2" type="text" />
                </div>
                <div class="row">
                    <label class="col-2" for="rue">Rue</label>
                    <div class="col-offset-1"></div>
                    <label class="col-2" for="ville">Ville</label>
                    <div class="col-offset-1"></div>
                    <label class="col-1" for="province">Province</label>
                    <div class="col-offset-1"></div>
                    <label class="col-1" for="pays">Pays</label>
                    <div class="col-offset-1"></div>
                    <label class="col-1" for="codePostal">Code Postal</label>
                </div>
                <div class="row">

                    <input class="col-2" style="margin-left:15px" id="rue" type="text" />
                    <div class="col-offset-1"></div>
                    <input class="col-2" id="ville" type="text" />
                    <div class="col-offset-1"></div>
                    <select class="col-1">
                        <option value="0">Québec</option>
                        <option value="1">Ontario</option>
                        <option value="2">Nouveau-Brunswick</option>
                    </select>
                    <div class="col-offset-1"></div>
                    <input class="col-1" id="pays" type="text" value="Canada" disabled />
                    <div class="col-offset-1"></div>
                    <input class="col-1" id="codePostal" type="text" />
                </div>
            </div>
        </div>
        <div class="container">
            <div class="panel panel-info">
                <div class="panel-heading" style="padding-left:20px;padding-right:20px">
                    <h3><u>Information de paiement</u></h3>
                    <p>Informations nécessaires?</p>
                </div>
            </div>
        </div>
        <div class="row align-items-center">
            <div class="col-4"></div>
            <input type="button" id="btnConfirmer" class="btn btn-success btn-block col-4" value="Confirmer" style="width:30%" />
            <div class="col-4"></div>
        </div>
    </div>
    <!-- Troisième et Dernier Onglet -->
    <div id="divFacturation" style="padding-left:10px;padding-right:10px">
    </div>
    <div>
    </div>
</body>
</html>
