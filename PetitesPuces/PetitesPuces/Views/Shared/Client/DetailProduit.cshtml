@using PetitesPuces.ViewModels
@model ProduitDetailViewModel
@{
   double dblPrixDemande = (double)Model.Produit.PrixDemande;
}
<div class="card">
   <div class="card-header">
      <h3 class="card-title">@Model.Produit.Nom</h3>
      <div class="d-flex justify-content-between">
         <small>#@Model.Produit.NoProduit</small>
         <span class="badge badge-success" style="font-size: 15px;">@Model.Produit.PPCategories.Description</span>
      </div>
   </div>
   <div class="card-body">
      <div class="media">
         <div class="media-left">
            <img class="media-object m-2" src="~/Content/images/@Model.Produit.Photo" alt="produit ...." 
                 style="max-width: 30rem; min-width: 20rem; max-height: 30rem; min-height: 20rem;">
         </div>
         <div class="media-body">
             <p>
                 <h1 id="spPrix">@dblPrixDemande.ToString("0.00") $</h1>
                 <span><span class="font-weight-bold">Vendu par:</span> <a href="#">@Model.Produit.PPVendeurs.NomAffaires</a></span>
                 <br />


                 @{
                     var sansDecimal = Model.FormattedRating - (Model.FormattedRating % 1);

                     for (var i = 1; i <= 5; i++)
                     {
                         if (i <= sansDecimal)
                         {
                             <span class="fa fa-star checked"></span>
                         }
                         else if (i <= sansDecimal + 1 && Model.FormattedRating % 1 != 0)
                         {
                             <i class="fas fa-star-half-alt checked"></i>
                         }
                         else
                         {
                             <span class="far fa-star checked"></span>
                         }
                     }
                 }
                 <span>
                     <small class="badge badge-pill badge-warning">@Model.FormattedRating.ToString("F1")</small>
                     &nbsp;&nbsp;&nbsp;
                     <span class="badge badge-pill badge-primary">@Model.nbEvaluateurs commentaire@(Model.nbEvaluateurs != 1 ? "s" : "")</span>
                 </span>
             </p>
            <hr>
            <p>
               <!--<button type="button" class="btn btn-outline-primary">Ajouter au panier <span class="fas fa-shopping-cart"></span></button>-->
               <span id="spQqt"><span class="font-weight-bold">Quantité restant:</span> @Model.Produit.NombreItems</span>
            </p>
            <hr>
            <p class="font-weight-bold">Description:</p>
            <p>@Model.Produit.Description</p>
            <p>
               <span class="font-weight-bold">Poids:</span><span> @Model.Produit.Poids lbs</span><br />
               <span><span class="font-weight-bold">En vente depuis:</span> @Model.Produit.DateCreation</span>
            </p>
         </div>
      </div>
   </div>
</div>
